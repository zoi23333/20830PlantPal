{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MeasureElement = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar react_native_1 = require(\"react-native-web/dist/index\");\nvar type_1 = require(\"./type\");\nvar MeasureElement = function MeasureElement(props) {\n  var ref = react_1.default.useRef();\n  var bindToWindow = function bindToWindow(frame, window) {\n    if (frame.origin.x < window.size.width) {\n      return frame;\n    }\n    var boundFrame = new type_1.Frame(frame.origin.x - window.size.width, frame.origin.y, frame.size.width, frame.size.height);\n    return bindToWindow(boundFrame, window);\n  };\n  var onUIManagerMeasure = function onUIManagerMeasure(x, y, w, h) {\n    if (!w && !h) {\n      measureSelf();\n    } else {\n      var originY = props.shouldUseTopInsets ? y + react_native_1.StatusBar.currentHeight || 0 : y;\n      var frame = bindToWindow(new type_1.Frame(x, originY, w, h), type_1.Frame.window());\n      props.onMeasure(frame);\n    }\n  };\n  var measureSelf = function measureSelf() {\n    var node = (0, react_native_1.findNodeHandle)(ref.current);\n    react_native_1.UIManager.measureInWindow(node, onUIManagerMeasure);\n  };\n  if (props.force) {\n    measureSelf();\n  }\n  return react_1.default.cloneElement(props.children, {\n    ref: ref,\n    onLayout: measureSelf\n  });\n};\nexports.MeasureElement = MeasureElement;\nexports.MeasureElement.defaultProps = {\n  shouldUseTopInsets: false\n};","map":{"version":3,"names":["react_1","__importDefault","require","react_native_1","type_1","MeasureElement","props","ref","default","useRef","bindToWindow","frame","window","origin","x","size","width","boundFrame","Frame","y","height","onUIManagerMeasure","w","h","measureSelf","originY","shouldUseTopInsets","StatusBar","currentHeight","onMeasure","node","findNodeHandle","current","UIManager","measureInWindow","force","cloneElement","children","onLayout","exports","defaultProps"],"sources":["../../../../../../src/components/devsupport/components/measure/measure.component.tsx"],"sourcesContent":[null],"mappings":";;AAAA;;;;;;;;;;;;;;AAMA,IAAAA,OAAA,GAAAC,eAAA,CAAAC,OAAA;AAA0B,IAAAC,cAAA,GAAAD,OAAA;AAM1B,IAAAE,MAAA,GAAAF,OAAA;AAkCO,IAAMG,cAAc,GAAkC,SAAhDA,cAAcA,CAAmCC,KAAK,EAAsB;EAEvF,IAAMC,GAAG,GAAGP,OAAA,CAAAQ,OAAK,CAACC,MAAM,EAAE;EAE1B,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAIC,KAAY,EAAEC,MAAa,EAAW;IAC1D,IAAID,KAAK,CAACE,MAAM,CAACC,CAAC,GAAGF,MAAM,CAACG,IAAI,CAACC,KAAK,EAAE;MACtC,OAAOL,KAAK;;IAGd,IAAMM,UAAU,GAAU,IAAIb,MAAA,CAAAc,KAAK,CACjCP,KAAK,CAACE,MAAM,CAACC,CAAC,GAAGF,MAAM,CAACG,IAAI,CAACC,KAAK,EAClCL,KAAK,CAACE,MAAM,CAACM,CAAC,EACdR,KAAK,CAACI,IAAI,CAACC,KAAK,EAChBL,KAAK,CAACI,IAAI,CAACK,MAAM,CAClB;IAED,OAAOV,YAAY,CAACO,UAAU,EAAEL,MAAM,CAAC;EACzC,CAAC;EAED,IAAMS,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIP,CAAS,EAAEK,CAAS,EAAEG,CAAS,EAAEC,CAAS,EAAU;IAC9E,IAAI,CAACD,CAAC,IAAI,CAACC,CAAC,EAAE;MACZC,WAAW,EAAE;KACd,MAAM;MACL,IAAMC,OAAO,GAAGnB,KAAK,CAACoB,kBAAkB,GAAGP,CAAC,GAAGhB,cAAA,CAAAwB,SAAS,CAACC,aAAa,IAAI,CAAC,GAAGT,CAAC;MAC/E,IAAMR,KAAK,GAAUD,YAAY,CAAC,IAAIN,MAAA,CAAAc,KAAK,CAACJ,CAAC,EAAEW,OAAO,EAAEH,CAAC,EAAEC,CAAC,CAAC,EAAEnB,MAAA,CAAAc,KAAK,CAACN,MAAM,EAAE,CAAC;MAC9EN,KAAK,CAACuB,SAAS,CAAClB,KAAK,CAAC;;EAE1B,CAAC;EAED,IAAMa,WAAW,GAAG,SAAdA,WAAWA,CAAA,EAAc;IAC7B,IAAMM,IAAI,GAAW,IAAA3B,cAAA,CAAA4B,cAAc,EAACxB,GAAG,CAACyB,OAAO,CAAC;IAChD7B,cAAA,CAAA8B,SAAS,CAACC,eAAe,CAACJ,IAAI,EAAET,kBAAkB,CAAC;EACrD,CAAC;EAED,IAAIf,KAAK,CAAC6B,KAAK,EAAE;IACfX,WAAW,EAAE;;EAGf,OAAOxB,OAAA,CAAAQ,OAAK,CAAC4B,YAAY,CAAC9B,KAAK,CAAC+B,QAAQ,EAAE;IAAE9B,GAAG,EAAHA,GAAG;IAAE+B,QAAQ,EAAEd;EAAW,CAAE,CAAC;AAC3E,CAAC;AAvCYe,OAAA,CAAAlC,cAAc,GAAAA,cAAA;AAyC3BkC,OAAA,CAAAlC,cAAc,CAACmC,YAAY,GAAG;EAC5Bd,kBAAkB,EAAE;CACrB"},"metadata":{},"sourceType":"script","externalDependencies":[]}