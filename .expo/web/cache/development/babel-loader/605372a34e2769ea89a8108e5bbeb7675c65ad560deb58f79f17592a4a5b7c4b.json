{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PopoverPlacementService = void 0;\nvar type_1 = require(\"./type\");\nvar PLACEMENT_FAMILIES = [type_1.PopoverPlacements.BOTTOM.rawValue, type_1.PopoverPlacements.TOP.rawValue, type_1.PopoverPlacements.LEFT.rawValue, type_1.PopoverPlacements.RIGHT.rawValue, type_1.PopoverPlacements.INNER.rawValue];\nvar PopoverPlacementService = function () {\n  function PopoverPlacementService() {\n    _classCallCheck(this, PopoverPlacementService);\n  }\n  _createClass(PopoverPlacementService, [{\n    key: \"find\",\n    value: function find(preferredValue, options) {\n      var placement = this.findRecursive(preferredValue, [].concat(PLACEMENT_FAMILIES), options);\n      return placement || preferredValue;\n    }\n  }, {\n    key: \"findRecursive\",\n    value: function findRecursive(placement, families, options) {\n      var oneOfCurrentFamily = this.findFromFamily(placement, options);\n      if (oneOfCurrentFamily) {\n        return oneOfCurrentFamily;\n      }\n      var oneOfReversedFamily = this.findFromFamily(placement.reverse(), options);\n      if (oneOfReversedFamily) {\n        return oneOfReversedFamily;\n      }\n      delete families[families.indexOf(placement.parent().rawValue)];\n      delete families[families.indexOf(placement.reverse().parent().rawValue)];\n      var firstTruthy = families.filter(Boolean)[0];\n      if (firstTruthy) {\n        var nextPlacement = type_1.PopoverPlacements.parse(firstTruthy);\n        return this.findRecursive(nextPlacement, families, options);\n      }\n      return null;\n    }\n  }, {\n    key: \"findFromFamily\",\n    value: function findFromFamily(placement, options) {\n      var preferredFrame = placement.frame(options);\n      if (placement.fits(preferredFrame, options.bounds)) {\n        return placement;\n      }\n      return placement.family().find(function (familyValue) {\n        var familyFrame = familyValue.frame(options);\n        return familyValue.fits(familyFrame, options.bounds);\n      });\n    }\n  }]);\n  return PopoverPlacementService;\n}();\nexports.PopoverPlacementService = PopoverPlacementService;","map":{"version":3,"names":["_classCallCheck","require","_createClass","type_1","PLACEMENT_FAMILIES","PopoverPlacements","BOTTOM","rawValue","TOP","LEFT","RIGHT","INNER","PopoverPlacementService","key","value","find","preferredValue","options","placement","findRecursive","concat","families","oneOfCurrentFamily","findFromFamily","oneOfReversedFamily","reverse","indexOf","parent","firstTruthy","filter","Boolean","nextPlacement","parse","preferredFrame","frame","fits","bounds","family","familyValue","familyFrame","exports"],"sources":["../../../../../src/components/ui/popover/placement.service.ts"],"sourcesContent":[null],"mappings":";;AAAA;;;;;AAAA,IAAAA,eAAA,GAAAC,OAAA;AAAA,IAAAC,YAAA,GAAAD,OAAA;;;;;AAMA,IAAAE,MAAA,GAAAF,OAAA;AAOA,IAAMG,kBAAkB,GAAa,CACnCD,MAAA,CAAAE,iBAAiB,CAACC,MAAM,CAACC,QAAQ,EACjCJ,MAAA,CAAAE,iBAAiB,CAACG,GAAG,CAACD,QAAQ,EAC9BJ,MAAA,CAAAE,iBAAiB,CAACI,IAAI,CAACF,QAAQ,EAC/BJ,MAAA,CAAAE,iBAAiB,CAACK,KAAK,CAACH,QAAQ,EAChCJ,MAAA,CAAAE,iBAAiB,CAACM,KAAK,CAACJ,QAAQ,CACjC;AAAC,IAEWK,uBAAuB;EAAA,SAAAA,wBAAA;IAAAZ,eAAA,OAAAY,uBAAA;EAAA;EAAAV,YAAA,CAAAU,uBAAA;IAAAC,GAAA;IAAAC,KAAA,EAE3B,SAAAC,KAAKC,cAAgC,EAAEC,OAAyB;MACrE,IAAMC,SAAS,GAAqB,IAAI,CAACC,aAAa,CAACH,cAAc,KAAAI,MAAA,CAAMhB,kBAAkB,GAAGa,OAAO,CAAC;MAExG,OAAOC,SAAS,IAAIF,cAAc;IACpC;EAAC;IAAAH,GAAA;IAAAC,KAAA,EAEO,SAAAK,cAAcD,SAA2B,EAAEG,QAAkB,EAAEJ,OAAyB;MAC9F,IAAMK,kBAAkB,GAAqB,IAAI,CAACC,cAAc,CAACL,SAAS,EAAED,OAAO,CAAC;MAEpF,IAAIK,kBAAkB,EAAE;QACtB,OAAOA,kBAAkB;;MAG3B,IAAME,mBAAmB,GAAqB,IAAI,CAACD,cAAc,CAACL,SAAS,CAACO,OAAO,EAAE,EAAER,OAAO,CAAC;MAE/F,IAAIO,mBAAmB,EAAE;QACvB,OAAOA,mBAAmB;;MAG5B,OAAOH,QAAQ,CAACA,QAAQ,CAACK,OAAO,CAACR,SAAS,CAACS,MAAM,EAAE,CAACpB,QAAQ,CAAC,CAAC;MAC9D,OAAOc,QAAQ,CAACA,QAAQ,CAACK,OAAO,CAACR,SAAS,CAACO,OAAO,EAAE,CAACE,MAAM,EAAE,CAACpB,QAAQ,CAAC,CAAC;MAExE,IAAMqB,WAAW,GAAWP,QAAQ,CAACQ,MAAM,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC;MAEvD,IAAIF,WAAW,EAAE;QACf,IAAMG,aAAa,GAAqB5B,MAAA,CAAAE,iBAAiB,CAAC2B,KAAK,CAACJ,WAAW,CAAC;QAE5E,OAAO,IAAI,CAACT,aAAa,CAACY,aAAa,EAAEV,QAAQ,EAAEJ,OAAO,CAAC;;MAG7D,OAAO,IAAI;IACb;EAAC;IAAAJ,GAAA;IAAAC,KAAA,EAEO,SAAAS,eAAeL,SAA2B,EAAED,OAAyB;MAC3E,IAAMgB,cAAc,GAAUf,SAAS,CAACgB,KAAK,CAACjB,OAAO,CAAC;MAEtD,IAAIC,SAAS,CAACiB,IAAI,CAACF,cAAc,EAAEhB,OAAO,CAACmB,MAAM,CAAC,EAAE;QAClD,OAAOlB,SAAS;;MAGlB,OAAOA,SAAS,CAACmB,MAAM,EAAE,CAACtB,IAAI,CAAC,UAACuB,WAA6B,EAAa;QACxE,IAAMC,WAAW,GAAGD,WAAW,CAACJ,KAAK,CAACjB,OAAO,CAAC;QAE9C,OAAOqB,WAAW,CAACH,IAAI,CAACI,WAAW,EAAEtB,OAAO,CAACmB,MAAM,CAAC;MACtD,CAAC,CAAC;IACJ;EAAC;EAAA,OAAAxB,uBAAA;AAAA;AA/CH4B,OAAA,CAAA5B,uBAAA,GAAAA,uBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}