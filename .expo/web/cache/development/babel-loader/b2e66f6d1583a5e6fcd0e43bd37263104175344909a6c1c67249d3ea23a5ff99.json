{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\nvar _reactJsxRuntime = require(\"react/jsx-runtime\");\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Modal = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar react_native_1 = require(\"react-native-web/dist/index\");\nvar devsupport_1 = require(\"../../devsupport\");\nvar theme_1 = require(\"../../theme\");\nvar backdrop_component_1 = require(\"@ui-kitten/components/theme/backdrop/backdrop.component\");\nvar Modal = function (_react_1$default$Pure) {\n  _inherits(Modal, _react_1$default$Pure);\n  var _super = _createSuper(Modal);\n  function Modal() {\n    var _this;\n    _classCallCheck(this, Modal);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      contentFrame: devsupport_1.Frame.zero(),\n      forceMeasure: false,\n      contentPosition: devsupport_1.Point.outscreen()\n    };\n    _this.onContentMeasure = function (contentFrame) {\n      var displayFrame = contentFrame.centerOf(devsupport_1.Frame.window());\n      _this.setState({\n        contentPosition: displayFrame.origin\n      });\n    };\n    _this.renderContentElement = function () {\n      return _reactJsxRuntime.jsx(react_native_1.View, _objectSpread(_objectSpread({}, _this.props), {}, {\n        style: [_this.props.style, styles.modalView, _this.contentFlexPosition]\n      }));\n    };\n    _this.renderMeasuringContentElement = function () {\n      return _reactJsxRuntime.jsx(devsupport_1.MeasureElement, {\n        shouldUseTopInsets: theme_1.ModalService.getShouldUseTopInsets,\n        onMeasure: _this.onContentMeasure,\n        children: _this.renderContentElement()\n      });\n    };\n    return _this;\n  }\n  _createClass(Modal, [{\n    key: \"contentFlexPosition\",\n    get: function get() {\n      var derivedStyle = react_native_1.StyleSheet.flatten(this.props.style || {});\n      var _this$state$contentPo = this.state.contentPosition,\n        centerX = _this$state$contentPo.x,\n        centerY = _this$state$contentPo.y;\n      return {\n        left: derivedStyle.left || centerX,\n        top: derivedStyle.top || centerY\n      };\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.visible && !this.state.forceMeasure) {\n        this.setState({\n          forceMeasure: true\n        });\n        return;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.visible && _reactJsxRuntime.jsx(react_native_1.Modal, {\n        transparent: true,\n        visible: this.props.visible,\n        supportedOrientations: this.props.supportedOrientations,\n        statusBarTranslucent: theme_1.ModalService.getShouldUseTopInsets,\n        animationType: this.props.animationType,\n        hardwareAccelerated: this.props.hardwareAccelerated,\n        onRequestClose: this.props.onBackdropPress,\n        onShow: this.props.onShow,\n        onDismiss: this.props.onBackdropPress,\n        children: _reactJsxRuntime.jsx(backdrop_component_1.Backdrop, {\n          visible: this.props.visible,\n          backdropStyle: this.props.backdropStyle,\n          onBackdropPress: this.props.onBackdropPress,\n          children: this.props.shouldUseContainer ? this.renderMeasuringContentElement() : this.props.children\n        })\n      });\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      if (!props.visible) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          contentPosition: devsupport_1.Point.outscreen()\n        });\n      }\n      return null;\n    }\n  }]);\n  return Modal;\n}(react_1.default.PureComponent);\nModal.defaultProps = {\n  shouldUseContainer: true\n};\nexports.Modal = Modal;\nvar styles = react_native_1.StyleSheet.create({\n  modalView: {\n    position: 'absolute'\n  }\n});","map":{"version":3,"names":["_defineProperty","require","_reactJsxRuntime","_classCallCheck","_createClass","_inherits","_possibleConstructorReturn","_getPrototypeOf","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","react_1","__importDefault","react_native_1","devsupport_1","theme_1","backdrop_component_1","Modal","_react_1$default$Pure","_super","_this","_len","args","Array","_key","concat","state","contentFrame","Frame","zero","forceMeasure","contentPosition","Point","outscreen","onContentMeasure","displayFrame","centerOf","window","setState","origin","renderContentElement","jsx","View","props","style","styles","modalView","contentFlexPosition","renderMeasuringContentElement","MeasureElement","shouldUseTopInsets","ModalService","getShouldUseTopInsets","onMeasure","children","key","get","derivedStyle","StyleSheet","flatten","_this$state$contentPo","centerX","x","centerY","y","left","top","value","componentDidUpdate","visible","render","transparent","supportedOrientations","statusBarTranslucent","animationType","hardwareAccelerated","onRequestClose","onBackdropPress","onShow","onDismiss","Backdrop","backdropStyle","shouldUseContainer","getDerivedStateFromProps","default","PureComponent","defaultProps","exports","create","position"],"sources":["../../../../../src/components/ui/modal/modal.component.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}