{"ast":null,"code":"\"use strict\";\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\nvar _reactJsxRuntime = require(\"react/jsx-runtime\");\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\nvar _excluded = [\"children\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MenuGroup = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar react_native_1 = require(\"react-native-web/dist/index\");\nvar devsupport_1 = require(\"../../devsupport\");\nvar chevronDown_component_1 = require(\"../shared/chevronDown.component\");\nvar menuItem_component_1 = require(\"./menuItem.component\");\nvar CHEVRON_DEG_COLLAPSED = -180;\nvar CHEVRON_DEG_EXPANDED = 0;\nvar CHEVRON_ANIM_DURATION = 200;\nvar POSITION_OUTSCREEN = devsupport_1.Point.outscreen();\nvar MenuGroup = function (_react_1$default$Comp) {\n  _inherits(MenuGroup, _react_1$default$Comp);\n  var _super = _createSuper(MenuGroup);\n  function MenuGroup(props) {\n    var _this;\n    _classCallCheck(this, MenuGroup);\n    _this = _super.call(this, props);\n    _this.state = {\n      submenuHeight: 1\n    };\n    _this.expandAnimation = new react_native_1.Animated.Value(0);\n    _this.onPress = function (descriptor, event) {\n      if (_this.hasSubmenu) {\n        _this.initiallyExpanded = false;\n        var expandValue = _this.expandAnimationValue > 0 ? 0 : _this.state.submenuHeight;\n        _this.createExpandAnimation(expandValue).start();\n        _this.props.onPress == null ? void 0 : _this.props.onPress(descriptor, event);\n      }\n    };\n    _this.onSubmenuMeasure = function (frame) {\n      _this.setState({\n        submenuHeight: frame.size.height\n      });\n    };\n    _this.createExpandAnimation = function (toValue) {\n      return react_native_1.Animated.timing(_this.expandAnimation, {\n        toValue: toValue,\n        duration: CHEVRON_ANIM_DURATION,\n        useNativeDriver: false\n      });\n    };\n    _this.renderAccessoryIfNeeded = function (evaProps) {\n      if (!_this.hasSubmenu) {\n        return null;\n      }\n      var style = react_native_1.StyleSheet.flatten(evaProps.style);\n      return _reactJsxRuntime.jsx(react_native_1.Animated.View, {\n        style: {\n          transform: [{\n            rotate: _this.expandToRotateInterpolation\n          }]\n        },\n        children: _reactJsxRuntime.jsx(chevronDown_component_1.ChevronDown, _objectSpread(_objectSpread({}, evaProps), {}, {\n          fill: style.tintColor\n        }))\n      });\n    };\n    _this.renderItemsWithDefaultProps = function () {\n      return react_1.default.Children.map(_this.props.children, function (item) {\n        return react_1.default.cloneElement(item, _this.defaultItemProps, null);\n      });\n    };\n    _this.renderGroupedItems = function (evaStyle) {\n      return _reactJsxRuntime.jsx(react_native_1.Animated.View, {\n        style: [styles.submenu, _this.submenuStyle, evaStyle],\n        children: _this.renderItemsWithDefaultProps()\n      });\n    };\n    _this.renderMeasuringGroupedItems = function (evaStyle) {\n      return _reactJsxRuntime.jsx(devsupport_1.MeasureElement, {\n        onMeasure: _this.onSubmenuMeasure,\n        children: _this.renderGroupedItems(evaStyle)\n      });\n    };\n    _this.renderGroupedItemsIfNeeded = function (evaStyle) {\n      if (!_this.hasSubmenu) {\n        return null;\n      }\n      if (_this.shouldMeasureSubmenu) {\n        return _this.renderMeasuringGroupedItems(evaStyle);\n      }\n      return _this.renderGroupedItems(evaStyle);\n    };\n    _this.initiallyExpanded = props.initiallyExpanded;\n    return _this;\n  }\n  _createClass(MenuGroup, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var submenuHeightChanged = this.state.submenuHeight !== prevState.submenuHeight;\n      if (submenuHeightChanged && this.hasSubmenu && this.initiallyExpanded) {\n        this.expandAnimation.setValue(this.state.submenuHeight);\n      }\n    }\n  }, {\n    key: \"hasSubmenu\",\n    get: function get() {\n      return react_1.default.Children.count(this.props.children) > 0;\n    }\n  }, {\n    key: \"shouldMeasureSubmenu\",\n    get: function get() {\n      return this.state.submenuHeight === 1;\n    }\n  }, {\n    key: \"expandAnimationValue\",\n    get: function get() {\n      return this.expandAnimation._value;\n    }\n  }, {\n    key: \"expandToRotateInterpolation\",\n    get: function get() {\n      return this.expandAnimation.interpolate({\n        inputRange: [-this.state.submenuHeight, CHEVRON_DEG_EXPANDED],\n        outputRange: [`${CHEVRON_DEG_COLLAPSED}deg`, `${CHEVRON_DEG_EXPANDED}deg`]\n      });\n    }\n  }, {\n    key: \"submenuStyle\",\n    get: function get() {\n      return this.shouldMeasureSubmenu ? styles.outscreen : {\n        height: this.expandAnimation\n      };\n    }\n  }, {\n    key: \"defaultItemProps\",\n    get: function get() {\n      return {\n        appearance: 'grouped'\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        children = _this$props.children,\n        itemProps = _objectWithoutProperties(_this$props, _excluded);\n      return _reactJsxRuntime.jsxs(_reactJsxRuntime.Fragment, {\n        children: [_reactJsxRuntime.jsx(menuItem_component_1.MenuItem, _objectSpread(_objectSpread({\n          accessoryRight: this.renderAccessoryIfNeeded\n        }, itemProps), {}, {\n          onPress: this.onPress\n        })), this.renderGroupedItemsIfNeeded({})]\n      });\n    }\n  }]);\n  return MenuGroup;\n}(react_1.default.Component);\nexports.MenuGroup = MenuGroup;\nvar styles = react_native_1.StyleSheet.create({\n  outscreen: {\n    position: 'absolute',\n    left: POSITION_OUTSCREEN.x,\n    top: POSITION_OUTSCREEN.y\n  },\n  submenu: {\n    overflow: 'hidden'\n  }\n});","map":{"version":3,"names":["react_1","__importDefault","require","react_native_1","devsupport_1","chevronDown_component_1","menuItem_component_1","CHEVRON_DEG_COLLAPSED","CHEVRON_DEG_EXPANDED","CHEVRON_ANIM_DURATION","POSITION_OUTSCREEN","Point","outscreen","MenuGroup","_react_1$default$Comp","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","submenuHeight","expandAnimation","Animated","Value","onPress","descriptor","event","hasSubmenu","initiallyExpanded","expandValue","expandAnimationValue","createExpandAnimation","start","onSubmenuMeasure","frame","setState","size","height","toValue","timing","duration","useNativeDriver","renderAccessoryIfNeeded","evaProps","style","StyleSheet","flatten","_reactJsxRuntime","jsx","View","transform","rotate","expandToRotateInterpolation","children","ChevronDown","_objectSpread","fill","tintColor","renderItemsWithDefaultProps","default","Children","map","item","cloneElement","defaultItemProps","renderGroupedItems","evaStyle","styles","submenu","submenuStyle","renderMeasuringGroupedItems","MeasureElement","onMeasure","renderGroupedItemsIfNeeded","shouldMeasureSubmenu","_createClass","key","value","componentDidUpdate","prevProps","prevState","submenuHeightChanged","setValue","get","count","_value","interpolate","inputRange","outputRange","appearance","render","_this$props","itemProps","_objectWithoutProperties","_excluded","jsxs","Fragment","MenuItem","accessoryRight","Component","exports","create","position","left","x","top","y","overflow"],"sources":["../../../../../src/components/ui/menu/menuGroup.component.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}